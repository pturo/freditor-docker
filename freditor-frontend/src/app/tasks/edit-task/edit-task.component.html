<div class="row">
    <div class="col s3">
        <app-side-menu></app-side-menu>
    </div>
    <div class="col s9">
        <h1>Edytuj zadanie</h1>
        <div class="row" style="border: 1px solid #C62828;">
            <form [formGroup]="editTaskForm" (ngSubmit)="editTask()" action="" method="post" class="col s12">
                <br>
                <input [(ngModel)]="task.taskId" type="hidden" formControlName="TaskId" class="form-control">
                <div class="row">
                    <label for="TaskTitle">Nazwa zadania</label>
                    <div class="input-field col s12">
                        <input [(ngModel)]="task.taskTitle" id="TaskTitle" type="text" class="validate"
                            formControlName="TaskTitle" ngDefaultControl required>
                    </div>
                </div>
                <div *ngIf="f['TaskTitle'].invalid && f['TaskTitle'].dirty || f['TaskTitle'].touched"
                    class="alert alert-danger">
                    <div *ngIf="f['TaskTitle'].errors?.['required']">Nazwa zadania jest wymagana i nie
                        moze byc pusta!</div>
                </div>
                <div class="row">
                    <label for="TaskElements">Szczegoly zadania (kazdy szczegol zakoncz klawiszem ENTER)</label>
                    <div class="input-field col s12">
                        <input id="TaskElements" type="text" class="validate" (keyup.enter)="addToList($event)"
                            formControlName="TaskElements" ngDefaultControl #TaskElements required>
                    </div>
                </div>
                <div *ngIf="f['TaskElements'].invalid && f['TaskElements'].dirty || f['TaskElements'].touched"
                    class="alert alert-danger">
                    <div *ngIf="f['TaskElements'].errors?.['required']">Nazwa elementu zadania jest
                        wymagana
                        i nie
                        moze byc pusta!</div>
                </div>
                <div class="row">
                    <div class="list col s12">
                        <ul class="collection" *ngFor="let item of listOfItems">
                            <li class="collection-item" style="background-color: #C62828; color: white;">{{item}}</li>
                        </ul>
                    </div>
                </div>
                <div class="row">
                    <label for="picker">Podaj termin wykonania zadania</label>
                    <div class="date-picker col s12">
                        <mat-form-field color="accent" appearance="fill">
                            <mat-label>Wybierz date</mat-label>
                            <input matInput [matDatepicker]="picker" formControlName="TaskDeadline">
                            <mat-hint>DD/MM/YYYY</mat-hint>
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                        <mat-error
                            *ngIf="f['TaskDeadline'].hasError('required') || (f['TaskDeadline'].dirty || f['TaskDeadline'].touched)">
                            Termin
                            wykonania zadania nie moze byc
                            pusty!</mat-error>
                    </div>
                </div>
                <div *ngIf="f['TaskDeadline'].invalid && f['TaskDeadline'].dirty && f['TaskDeadline'].touched"
                    class="alert alert-danger">
                    <div *ngIf="editTaskForm.get('TaskDeadline').errors?.['required']">Data wykonania zadania jest
                        wymagana!</div>
                </div>
                <div style="text-align: center;">
                    <button class="red btn" type="submit" name="saveBtn"
                        [disabled]="editTaskForm.invalid || f['TaskDeadline'].untouched">Zapisz</button> |
                    <button class="red btn" type="submit" name="cancelBtn" [routerLink]=""
                        (click)="backToTasks()">Anuluj</button>
                </div>
                <br>
            </form>
        </div>
    </div>
</div>